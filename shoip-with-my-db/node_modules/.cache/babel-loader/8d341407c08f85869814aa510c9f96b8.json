{"ast":null,"code":"import _slicedToArray from \"/home/pra-va/programavimas/005-technologijos/001-react/008-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/pra-va/programavimas/005-technologijos/001-react/008-shop/src/Components/02-NavBar/CartPresentation/CartPresentation.js\";\nimport React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartService from \"./../../00-Context/CartService\";\nimport UserService from \"./../../00-Context/UserService\";\nimport axios from \"axios\";\n\nconst CartPresentation = props => {\n  var _useState = useState({\n    itemsNumber: 0,\n    username: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      cartState = _useState2[0],\n      setCartState = _useState2[1];\n\n  let cartContext = useContext(CartService);\n  let userService = useContext(UserService);\n  let username = localStorage.getItem(\"username\");\n\n  var updateCart = () => {\n    let urlBuilder = \"https://itpro2017.herokuapp.com/api/users/\" + username + \"/cart-products\";\n    axios.get(urlBuilder).then(response => {\n      if (userService.username > 0) {\n        setCartState(response.data.length);\n      }\n    }).catch(error => {\n      console.log(error);\n      console.log(\"CartPresentation.js\");\n    });\n  };\n\n  cartContext.updateMe = updateCart;\n  console.log(\"username: \" + userService.username);\n  updateCart();\n  return React.createElement(Link, {\n    className: \"navbar-brand cart-bg px-2\",\n    to: \"/cart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-shopping-basket mr-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), cartState, \" Items\");\n};\n\nexport default CartPresentation;","map":{"version":3,"sources":["/home/pra-va/programavimas/005-technologijos/001-react/008-shop/src/Components/02-NavBar/CartPresentation/CartPresentation.js"],"names":["React","useState","useContext","Link","CartService","UserService","axios","CartPresentation","props","itemsNumber","username","cartState","setCartState","cartContext","userService","localStorage","getItem","updateCart","urlBuilder","get","then","response","data","length","catch","error","console","log","updateMe"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,gBAAgB,GAAGC,KAAK,IAAI;AAAA,kBACAP,QAAQ,CAAC;AAAEQ,IAAAA,WAAW,EAAE,CAAf;AAAkBC,IAAAA,QAAQ,EAAE;AAA5B,GAAD,CADR;AAAA;AAAA,MAC3BC,SAD2B;AAAA,MAChBC,YADgB;;AAGhC,MAAIC,WAAW,GAAGX,UAAU,CAACE,WAAD,CAA5B;AACA,MAAIU,WAAW,GAAGZ,UAAU,CAACG,WAAD,CAA5B;AAEA,MAAIK,QAAQ,GAAGK,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;;AAEA,MAAIC,UAAU,GAAG,MAAM;AACrB,QAAIC,UAAU,GACZ,+CACAR,QADA,GAEA,gBAHF;AAIAJ,IAAAA,KAAK,CACFa,GADH,CACOD,UADP,EAEGE,IAFH,CAEQC,QAAQ,IAAI;AAChB,UAAIP,WAAW,CAACJ,QAAZ,GAAuB,CAA3B,EAA8B;AAC5BE,QAAAA,YAAY,CAACS,QAAQ,CAACC,IAAT,CAAcC,MAAf,CAAZ;AACD;AACF,KANH,EAOGC,KAPH,CAOSC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,KAVH;AAWD,GAhBD;;AAkBAd,EAAAA,WAAW,CAACe,QAAZ,GAAuBX,UAAvB;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAeb,WAAW,CAACJ,QAAvC;AACAO,EAAAA,UAAU;AAEV,SACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,2BAAhB;AAA4C,IAAA,EAAE,EAAC,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,6BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGN,SAFH,WADF;AAMD,CApCD;;AAsCA,eAAeJ,gBAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartService from \"./../../00-Context/CartService\";\nimport UserService from \"./../../00-Context/UserService\";\nimport axios from \"axios\";\n\nconst CartPresentation = props => {\n  var [cartState, setCartState] = useState({ itemsNumber: 0, username: \"\" });\n\n  let cartContext = useContext(CartService);\n  let userService = useContext(UserService);\n\n  let username = localStorage.getItem(\"username\");\n\n  var updateCart = () => {\n    let urlBuilder =\n      \"https://itpro2017.herokuapp.com/api/users/\" +\n      username +\n      \"/cart-products\";\n    axios\n      .get(urlBuilder)\n      .then(response => {\n        if (userService.username > 0) {\n          setCartState(response.data.length);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        console.log(\"CartPresentation.js\");\n      });\n  };\n\n  cartContext.updateMe = updateCart;\n  console.log(\"username: \" + userService.username);\n  updateCart();\n\n  return (\n    <Link className=\"navbar-brand cart-bg px-2\" to=\"/cart\">\n      <i className=\"fas fa-shopping-basket mr-2\"></i>\n      {cartState} Items\n    </Link>\n  );\n};\n\nexport default CartPresentation;\n"]},"metadata":{},"sourceType":"module"}