{"ast":null,"code":"import _classCallCheck from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TableRow from\"./../TableRow/TableRow\";import axios from\"axios\";var Table=/*#__PURE__*/function(_Component){_inherits(Table,_Component);function Table(){var _getPrototypeOf2;var _this;_classCallCheck(this,Table);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Table)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={products:[]};_this.products=[];_this.refreshComponents=function(){if(_this.props.username.length>0&&_this.props.username!=null){axios.get(\"http://localhost:8081/shop/api/cart/\"+_this.props.username).then(function(response){if(response.data.length!==_this.state.products.length){_this.setState({products:response.data});}}).catch(function(error){console.log(error);});}else{if(_this.state.products.length>0){_this.setState({products:[]});}}};return _this;}_createClass(Table,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshComponents();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.refreshComponents();}},{key:\"render\",value:function render(){var _this2=this;if(this.state.products.length>0){var tableRows=this.state.products.map(function(item,index){return React.createElement(TableRow,{key:index,id:item.id,image:item.image,title:item.title,username:_this2.props.username,refreshComponents:_this2.refreshComponents});});}return React.createElement(\"div\",{className:\"container\"},React.createElement(\"table\",{className:\" text-center table table-striped table-dark\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"ID\"),React.createElement(\"th\",{scope:\"col\"},\"Image\"),React.createElement(\"th\",{scope:\"col\"},\"Title\"),React.createElement(\"th\",{scope:\"col\"}))),React.createElement(\"tbody\",null,tableRows)));}}]);return Table;}(Component);export default Table;","map":{"version":3,"sources":["/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/src/Components/06-Cart/Table/Table.js"],"names":["React","Component","TableRow","axios","Table","state","products","refreshComponents","props","username","length","get","then","response","data","setState","catch","error","console","log","tableRows","map","item","index","id","image","title"],"mappings":"o8BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,K,2XACJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,C,OAIRA,Q,CAAW,E,OAEXC,iB,CAAoB,UAAM,CACxB,GAAI,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,MAApB,CAA6B,CAA7B,EAAkC,MAAKF,KAAL,CAAWC,QAAX,EAAuB,IAA7D,CAAmE,CACjEN,KAAK,CACFQ,GADH,CACO,uCAAyC,MAAKH,KAAL,CAAWC,QAD3D,EAEGG,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcJ,MAAd,GAAyB,MAAKL,KAAL,CAAWC,QAAX,CAAoBI,MAAjD,CAAyD,CACvD,MAAKK,QAAL,CAAc,CAAET,QAAQ,CAAEO,QAAQ,CAACC,IAArB,CAAd,EACD,CACF,CANH,EAOGE,KAPH,CAOS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,CAXD,IAWO,CACL,GAAI,MAAKZ,KAAL,CAAWC,QAAX,CAAoBI,MAApB,CAA6B,CAAjC,CAAoC,CAClC,MAAKK,QAAL,CAAc,CAAET,QAAQ,CAAE,EAAZ,CAAd,EACD,CACF,CACF,C,8FAEmB,CAClB,KAAKC,iBAAL,GACD,C,+DAEoB,CACnB,KAAKA,iBAAL,GACD,C,uCAEQ,iBACP,GAAI,KAAKF,KAAL,CAAWC,QAAX,CAAoBI,MAApB,CAA6B,CAAjC,CAAoC,CAClC,GAAIU,CAAAA,SAAS,CAAG,KAAKf,KAAL,CAAWC,QAAX,CAAoBe,GAApB,CAAwB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACvD,MACE,qBAAC,QAAD,EACE,GAAG,CAAEA,KADP,CAEE,EAAE,CAAED,IAAI,CAACE,EAFX,CAGE,KAAK,CAAEF,IAAI,CAACG,KAHd,CAIE,KAAK,CAAEH,IAAI,CAACI,KAJd,CAKE,QAAQ,CAAE,MAAI,CAAClB,KAAL,CAAWC,QALvB,CAME,iBAAiB,CAAE,MAAI,CAACF,iBAN1B,EADF,CAUD,CAXe,CAAhB,CAYD,CAED,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,6BAAO,SAAS,CAAC,6CAAjB,EACE,iCACE,8BACE,0BAAI,KAAK,CAAC,KAAV,OADF,CAEE,0BAAI,KAAK,CAAC,KAAV,UAFF,CAGE,0BAAI,KAAK,CAAC,KAAV,UAHF,CAIE,0BAAI,KAAK,CAAC,KAAV,EAJF,CADF,CADF,CASE,iCAAQa,SAAR,CATF,CADF,CADF,CAeD,C,mBAjEiBnB,S,EAoEpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport TableRow from \"./../TableRow/TableRow\";\nimport axios from \"axios\";\n\nclass Table extends Component {\n  state = {\n    products: []\n  };\n\n  products = [];\n\n  refreshComponents = () => {\n    if (this.props.username.length > 0 && this.props.username != null) {\n      axios\n        .get(\"http://localhost:8081/shop/api/cart/\" + this.props.username)\n        .then(response => {\n          if (response.data.length !== this.state.products.length) {\n            this.setState({ products: response.data });\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else {\n      if (this.state.products.length > 0) {\n        this.setState({ products: [] });\n      }\n    }\n  };\n\n  componentDidMount() {\n    this.refreshComponents();\n  }\n\n  componentDidUpdate() {\n    this.refreshComponents();\n  }\n\n  render() {\n    if (this.state.products.length > 0) {\n      var tableRows = this.state.products.map((item, index) => {\n        return (\n          <TableRow\n            key={index}\n            id={item.id}\n            image={item.image}\n            title={item.title}\n            username={this.props.username}\n            refreshComponents={this.refreshComponents}\n          />\n        );\n      });\n    }\n\n    return (\n      <div className=\"container\">\n        <table className=\" text-center table table-striped table-dark\">\n          <thead>\n            <tr>\n              <th scope=\"col\">ID</th>\n              <th scope=\"col\">Image</th>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>{tableRows}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}