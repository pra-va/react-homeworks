{"ast":null,"code":"import _slicedToArray from\"/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{Link}from\"react-router-dom\";import CartService from\"./../../00-Context/CartService\";import UserService from\"./../../00-Context/UserService\";import axios from\"axios\";var CartPresentation=function CartPresentation(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),cartState=_useState2[0],setCartState=_useState2[1];var cartContext=useContext(CartService);var userService=useContext(UserService);var updateCart=function updateCart(){var username=userService.username;if(username.length>0&&username!==null){var urlBuilder=\"http://localhost:8081/shop/api/cart/\"+username;axios.get(urlBuilder).then(function(response){setCartState(response.data.length);}).catch(function(error){console.log(error);});}else{if(cartState!==0){setCartState(0);}}};cartContext.updateMe=updateCart;updateCart();return React.createElement(Link,{className:\"navbar-brand cart-bg px-2\",to:\"/cart\"},React.createElement(\"i\",{className:\"fas fa-shopping-basket mr-2\"}),cartState,\" Items\");};export default CartPresentation;","map":{"version":3,"sources":["/home/pra-va/programavimas/005-technologijos/001-react/008-shop-with-db/src/Components/02-NavBar/CartPresentation/CartPresentation.js"],"names":["React","useState","useContext","Link","CartService","UserService","axios","CartPresentation","cartState","setCartState","cartContext","userService","updateCart","username","length","urlBuilder","get","then","response","data","catch","error","console","log","updateMe"],"mappings":"8LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,eACGN,QAAQ,CAAC,CAAD,CADX,wCACxBO,SADwB,eACbC,YADa,eAG7B,GAAIC,CAAAA,WAAW,CAAGR,UAAU,CAACE,WAAD,CAA5B,CACA,GAAIO,CAAAA,WAAW,CAAGT,UAAU,CAACG,WAAD,CAA5B,CAEA,GAAIO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAIC,CAAAA,QAAQ,CAAGF,WAAW,CAACE,QAA3B,CACA,GAAIA,QAAQ,CAACC,MAAT,CAAkB,CAAlB,EAAuBD,QAAQ,GAAK,IAAxC,CAA8C,CAC5C,GAAIE,CAAAA,UAAU,CAAG,uCAAyCF,QAA1D,CACAP,KAAK,CACFU,GADH,CACOD,UADP,EAEGE,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBT,YAAY,CAACS,QAAQ,CAACC,IAAT,CAAcL,MAAf,CAAZ,CACD,CAJH,EAKGM,KALH,CAKS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPH,EAQD,CAVD,IAUO,CACL,GAAIb,SAAS,GAAK,CAAlB,CAAqB,CACnBC,YAAY,CAAC,CAAD,CAAZ,CACD,CACF,CACF,CAjBD,CAmBAC,WAAW,CAACc,QAAZ,CAAuBZ,UAAvB,CAEAA,UAAU,GAEV,MACE,qBAAC,IAAD,EAAM,SAAS,CAAC,2BAAhB,CAA4C,EAAE,CAAC,OAA/C,EACE,yBAAG,SAAS,CAAC,6BAAb,EADF,CAEGJ,SAFH,UADF,CAMD,CAnCD,CAqCA,cAAeD,CAAAA,gBAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartService from \"./../../00-Context/CartService\";\nimport UserService from \"./../../00-Context/UserService\";\nimport axios from \"axios\";\n\nconst CartPresentation = () => {\n  var [cartState, setCartState] = useState(0);\n\n  let cartContext = useContext(CartService);\n  let userService = useContext(UserService);\n\n  var updateCart = () => {\n    let username = userService.username;\n    if (username.length > 0 && username !== null) {\n      let urlBuilder = \"http://localhost:8081/shop/api/cart/\" + username;\n      axios\n        .get(urlBuilder)\n        .then(response => {\n          setCartState(response.data.length);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else {\n      if (cartState !== 0) {\n        setCartState(0);\n      }\n    }\n  };\n\n  cartContext.updateMe = updateCart;\n\n  updateCart();\n\n  return (\n    <Link className=\"navbar-brand cart-bg px-2\" to=\"/cart\">\n      <i className=\"fas fa-shopping-basket mr-2\"></i>\n      {cartState} Items\n    </Link>\n  );\n};\n\nexport default CartPresentation;\n"]},"metadata":{},"sourceType":"module"}